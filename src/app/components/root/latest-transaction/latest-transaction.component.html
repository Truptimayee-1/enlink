<p-card>
  <p-table
    #transactionTable
    [paginator]="true"
    [rows]="10"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[10, 25, 50, 100, 500, 1000]"
    [scrollable]="true"
    scrollHeight="40vh"
    [value]="transactions"
    [showCurrentPageReport]="true"
    [globalFilterFields]="[
      'imeiNumber',
      'pvOrDCVoltage',
      'pvCurrent',
      'deviceTemperature'
    ]"
  >
    <ng-template pTemplate="caption">
      <div class="text-right">
        <span class="p-input-icon-right ml-auto mr-10">
          <i class="pi pi-search"></i>
          <input
            pInputText
            type="text"
            class="p-inputtext"
            (input)="
              transactionTable.filterGlobal(
                $any($event.target).value,
                'contains'
              )
            "
            [(ngModel)]="searchText"
            placeholder="Search keyword"
          />
        </span>
        <button
          pButton
          label="Clear"
          class="p-button-outlined"
          icon="pi pi-filter-slash"
          (click)="clear(transactionTable)"
        ></button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="date">
          Last Communication Time <p-sortIcon field="date"></p-sortIcon>
        </th>
        <th pSortableColumn="imeiNumber">
          IMEI <p-sortIcon field="imeiNumber"></p-sortIcon>
        </th>
        <th pSortableColumn="pvOrDCVoltage">
          Voltage <p-sortIcon field="pvOrDCVoltage"></p-sortIcon>
        </th>
        <th pSortableColumn="pvCurrent">
          Current <p-sortIcon field="pvCurrent"></p-sortIcon>
        </th>
        <th pSortableColumn="deviceTemperature">
          Temperature <p-sortIcon field="deviceTemperature"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-data>
      <tr>
        <td>{{ data.date }}</td>
        <td>{{ data.imeiNumber }}</td>
        <td>{{ data.pvOrDCVoltage }}</td>
        <td>{{ data.pvCurrent }}</td>
        <td>{{ data.deviceTemperature }}</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
